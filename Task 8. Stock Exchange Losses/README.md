Описание задачи.
Дан хронологический ряд стоимости акций. Времени ti = t_0, t_1, t_2... соответствует цена акции v_i. Требуется определить наибольший убыток, который можно понести, купив акцию в какой-то момент времени и продав ее в последующем. 

Описание решения. 
Для каждой точки t_i последовательно проверяется величина возможного убытка. Для этого хранится и обновляется максимальная к моменту t_i стоимость акции. Также хранится и обновляется величина максимального убытка к моменту t_i. Она не меняется или становится равной разности текущей и максимальной к моменту t_i стоимости (выбирается максимальное по модулю значение ниже нуля). К моменту t_i = t_n эта величина будет являться максимальным убытком для всей задачи.